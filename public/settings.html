<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ëšœê¸° ì„¤ì •</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .settings-container {
            min-height: 100vh;
            background: #FFFFFF;
            padding: 0;
        }
        
        .settings-header {
            background: #FFFFFF;
            border-bottom: 1px solid #E5E5E5;
            padding: 20px 24px;
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .settings-back-btn {
            background: #F5F5F5;
            border: none;
            color: #2F2F2F;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .settings-back-btn:hover {
            background: #E5E5E5;
        }
        
        .settings-title {
            font-size: 20px;
            font-weight: 600;
            color: #2F2F2F;
        }
        
        .settings-content {
            padding: 0;
        }
        
        .settings-section {
            border-bottom: 1px solid #F0F0F0;
        }
        
        .section-title {
            font-size: 14px;
            font-weight: 600;
            color: #8E8E8E;
            padding: 20px 24px 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .settings-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 24px;
            background: #FFFFFF;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .settings-item:hover {
            background: #F8F8F8;
        }
        
        .settings-item:active {
            background: #F0F0F0;
        }
        
        .item-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .item-icon {
            width: 24px;
            color: #8E8E8E;
            font-size: 18px;
            display: flex;
            justify-content: center;
        }
        
        .item-content {
            display: flex;
            flex-direction: column;
        }
        
        .item-title {
            font-size: 16px;
            font-weight: 500;
            color: #2F2F2F;
            margin-bottom: 2px;
        }
        
        .item-description {
            font-size: 14px;
            color: #8E8E8E;
        }
        
        .item-right {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .item-value {
            font-size: 14px;
            color: #8E8E8E;
        }
        
        .toggle-switch {
            position: relative;
            width: 50px;
            height: 28px;
            background: #E5E5E5;
            border-radius: 14px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .toggle-switch.active {
            background: #FF6B35;
        }
        
        .toggle-knob {
            position: absolute;
            top: 3px;
            left: 3px;
            width: 22px;
            height: 22px;
            background: #FFFFFF;
            border-radius: 50%;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .toggle-switch.active .toggle-knob {
            transform: translateX(22px);
        }
        
        .arrow-icon {
            color: #C0C0C0;
            font-size: 14px;
        }
        
        .user-profile {
            background: linear-gradient(135deg, #FF6B35 0%, #FFD166 100%);
            padding: 24px;
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .profile-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
        }
        
        .profile-info h3 {
            color: #FFFFFF;
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .profile-info p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 14px;
        }
        
        .danger-item .item-title {
            color: #FF4757;
        }
        
        .danger-item .item-icon {
            color: #FF4757;
        }
        
        @media (max-width: 768px) {
            .settings-header {
                padding: 16px 20px;
            }
            
            .settings-item {
                padding: 14px 20px;
            }
            
            .section-title {
                padding: 16px 20px 8px;
            }
        }
    </style>
</head>
<body>
    <div class="settings-container">
        <div class="settings-header">
            <button class="settings-back-btn" onclick="goBack()" aria-label="ë’¤ë¡œê°€ê¸°">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h1 class="settings-title">ì„¤ì •</h1>
        </div>
        
        <!-- ì‚¬ìš©ì í”„ë¡œí•„ -->
        <div class="user-profile" id="userProfile">
            <div class="profile-avatar">ğŸ§</div>
            <div class="profile-info">
                <h3 id="userName">ê²ŒìŠ¤íŠ¸</h3>
                <p id="userEmail">guest@ddugi.app</p>
            </div>
        </div>
        
        <div class="settings-content">
            <!-- ê³„ì • ì„¤ì • -->
            <div class="settings-section">
                <div class="section-title">ê³„ì •</div>
                <div class="settings-item" onclick="editProfile()">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-user-edit"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">í”„ë¡œí•„ í¸ì§‘</div>
                            <div class="item-description">ì´ë¦„ê³¼ í”„ë¡œí•„ ì‚¬ì§„ ë³€ê²½</div>
                        </div>
                    </div>
                    <div class="item-right">
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                </div>
                
                <div class="settings-item" onclick="changePassword()">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-lock"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</div>
                            <div class="item-description">ê³„ì • ë³´ì•ˆì„ ìœ„í•´ ì£¼ê¸°ì ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”</div>
                        </div>
                    </div>
                    <div class="item-right">
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                </div>
            </div>
            
            <!-- ì•± ì„¤ì • -->
            <div class="settings-section">
                <div class="section-title">ì•± ì„¤ì •</div>
                <div class="settings-item">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ì•Œë¦¼</div>
                            <div class="item-description">ìƒˆë¡œìš´ ë§›ì§‘ ì•Œë¦¼ ë°›ê¸°</div>
                        </div>
                    </div>
                    <div class="item-right">
                        <div class="toggle-switch active" onclick="toggleNotification(this)">
                            <div class="toggle-knob"></div>
                        </div>
                    </div>
                </div>
                
                <div class="settings-item">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ìœ„ì¹˜ ì„œë¹„ìŠ¤</div>
                            <div class="item-description">ê·¼ì²˜ ë§›ì§‘ ì¶”ì²œì„ ìœ„í•´ ì‚¬ìš©</div>
                        </div>
                    </div>
                    <div class="item-right">
                        <div class="toggle-switch" onclick="toggleLocation(this)">
                            <div class="toggle-knob"></div>
                        </div>
                    </div>
                </div>
                
                <div class="settings-item" onclick="setDefaultRegion()">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ê¸°ë³¸ ì§€ì—­</div>
                            <div class="item-description">ì„ í˜¸í•˜ëŠ” ë§›ì§‘ ì§€ì—­ ì„¤ì •</div>
                        </div>
                    </div>
                    <div class="item-right">
                        <span class="item-value" id="defaultRegion">í•´ìš´ëŒ€êµ¬</span>
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                </div>
            </div>
            
            <!-- ê°œì¸í™” -->
            <div class="settings-section">
                <div class="section-title">ê°œì¸í™”</div>
                <div class="settings-item" onclick="manageDietaryRestrictions()">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ì‹ë‹¨ ì œí•œ</div>
                            <div class="item-description">ì•Œë ˆë¥´ê¸°, ì„ í˜¸ ìŒì‹ ì„¤ì •</div>
                        </div>
                    </div>
                    <div class="item-right">
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                </div>
                
                <div class="settings-item" onclick="manageFavoriteCategories()">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ì„ í˜¸ ì¹´í…Œê³ ë¦¬</div>
                            <div class="item-description">ì¢‹ì•„í•˜ëŠ” ìŒì‹ ì¢…ë¥˜ ì„ íƒ</div>
                        </div>
                    </div>
                    <div class="item-right">
                        <span class="item-value">í•œì‹, ì¼ì‹</span>
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                </div>
            </div>
            
            <!-- ë°ì´í„° ë° ê°œì¸ì •ë³´ -->
            <div class="settings-section">
                <div class="section-title">ë°ì´í„° ë° ê°œì¸ì •ë³´</div>
                <div class="settings-item" onclick="manageData()">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-download"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ë°ì´í„° ë‹¤ìš´ë¡œë“œ</div>
                            <div class="item-description">ì €ì¥ëœ ë§›ì§‘ê³¼ ê²€ìƒ‰ ê¸°ë¡ ë‹¤ìš´ë¡œë“œ</div>
                        </div>
                    </div>
                    <div class="item-right">
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                </div>
                
                <div class="settings-item" onclick="clearSearchHistory()">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-trash-alt"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ê²€ìƒ‰ ê¸°ë¡ ì‚­ì œ</div>
                            <div class="item-description">ëª¨ë“  ê²€ìƒ‰ ê¸°ë¡ì„ ì‚­ì œí•©ë‹ˆë‹¤</div>
                        </div>
                    </div>
                    <div class="item-right">
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                </div>
            </div>
            
            <!-- ê³ ê°ì§€ì› -->
            <div class="settings-section">
                <div class="section-title">ê³ ê°ì§€ì›</div>
                <div class="settings-item" onclick="contactSupport()">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-headset"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ê³ ê°ì„¼í„°</div>
                            <div class="item-description">ë¬¸ì˜ì‚¬í•­ì´ë‚˜ ë„ì›€ì´ í•„ìš”í•˜ë©´ ì—°ë½í•˜ì„¸ìš”</div>
                        </div>
                    </div>
                    <div class="item-right">
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                </div>
                
                <div class="settings-item" onclick="showAbout()">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-info-circle"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ì•± ì •ë³´</div>
                            <div class="item-description">ë²„ì „ ë° ê°œë°œì ì •ë³´</div>
                        </div>
                    </div>
                    <div class="item-right">
                        <span class="item-value">v1.0.0</span>
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                </div>
            </div>
            
            <!-- ê³„ì • ê´€ë¦¬ -->
            <div class="settings-section">
                <div class="section-title">ê³„ì • ê´€ë¦¬</div>
                <div class="settings-item danger-item" onclick="logout()">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-sign-out-alt"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ë¡œê·¸ì•„ì›ƒ</div>
                        </div>
                    </div>
                </div>
                
                <div class="settings-item danger-item" onclick="deleteAccount()">
                    <div class="item-left">
                        <div class="item-icon">
                            <i class="fas fa-user-times"></i>
                        </div>
                        <div class="item-content">
                            <div class="item-title">ê³„ì • ì‚­ì œ</div>
                            <div class="item-description">ëª¨ë“  ë°ì´í„°ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // í˜ì´ì§€ ë¡œë“œì‹œ ì‚¬ìš©ì ì •ë³´ í‘œì‹œ
        document.addEventListener('DOMContentLoaded', () => {
            const userEmail = localStorage.getItem('userEmail') || 'guest@ddugi.app';
            const isLoggedIn = localStorage.getItem('isLoggedIn');
            
            document.getElementById('userEmail').textContent = userEmail;
            
            if (isLoggedIn === 'guest') {
                document.getElementById('userName').textContent = 'ê²ŒìŠ¤íŠ¸';
            } else {
                document.getElementById('userName').textContent = 'ëšœê¸° ì‚¬ìš©ì';
            }
        });
        
        function goBack() {
            window.location.href = 'index.html';
        }
        
        function editProfile() {
            alert('í”„ë¡œí•„ í¸ì§‘ ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤! ğŸš§');
        }
        
        function changePassword() {
            alert('ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤! ğŸš§');
        }
        
        function toggleNotification(element) {
            element.classList.toggle('active');
            const isEnabled = element.classList.contains('active');
            localStorage.setItem('notificationEnabled', isEnabled);
            
            if (isEnabled) {
                alert('ì•Œë¦¼ì´ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ””');
            } else {
                alert('ì•Œë¦¼ì´ ë¹„í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ”•');
            }
        }
        
        function toggleLocation(element) {
            element.classList.toggle('active');
            const isEnabled = element.classList.contains('active');
            localStorage.setItem('locationEnabled', isEnabled);
            
            if (isEnabled) {
                alert('ìœ„ì¹˜ ì„œë¹„ìŠ¤ê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“');
            } else {
                alert('ìœ„ì¹˜ ì„œë¹„ìŠ¤ê°€ ë¹„í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }
        
        function setDefaultRegion() {
            const regions = ['í•´ìš´ëŒ€êµ¬', 'ë¶€ì‚°ì§„êµ¬', 'ì„œêµ¬', 'ë™êµ¬', 'ì˜ë„êµ¬', 'ì¤‘êµ¬'];
            const currentRegion = document.getElementById('defaultRegion').textContent;
            
            let choice = prompt(`ê¸°ë³¸ ì§€ì—­ì„ ì„ íƒí•˜ì„¸ìš”:\n${regions.map((r, i) => `${i+1}. ${r}`).join('\n')}\n\ní˜„ì¬: ${currentRegion}`);
            
            if (choice && choice >= 1 && choice <= regions.length) {
                const selectedRegion = regions[choice - 1];
                document.getElementById('defaultRegion').textContent = selectedRegion;
                localStorage.setItem('defaultRegion', selectedRegion);
                alert(`ê¸°ë³¸ ì§€ì—­ì´ ${selectedRegion}ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!`);
            }
        }
        
        function manageDietaryRestrictions() {
            alert('ì‹ë‹¨ ì œí•œ ì„¤ì • ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤! ğŸš§');
        }
        
        function manageFavoriteCategories() {
            alert('ì„ í˜¸ ì¹´í…Œê³ ë¦¬ ì„¤ì • ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤! ğŸš§');
        }
        
        function manageData() {
            const savedRestaurants = localStorage.getItem('savedRestaurants') || '[]';
            const blob = new Blob([savedRestaurants], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = 'ëšœê¸°_ì €ì¥ëœë§›ì§‘.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert('ì €ì¥ëœ ë§›ì§‘ ë°ì´í„°ê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ“');
        }
        
        function clearSearchHistory() {
            if (confirm('ëª¨ë“  ê²€ìƒ‰ ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                // ê²€ìƒ‰ ê¸°ë¡ ê´€ë ¨ localStorage í•­ëª©ë“¤ ì‚­ì œ
                const keysToRemove = [];
                for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    if (key && key.includes('search') || key.includes('preference')) {
                        keysToRemove.push(key);
                    }
                }
                
                keysToRemove.forEach(key => localStorage.removeItem(key));
                alert('ê²€ìƒ‰ ê¸°ë¡ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ—‘ï¸');
            }
        }
        
        function contactSupport() {
            alert('ê³ ê°ì„¼í„° ì—°ë½ì²˜:\nğŸ“§ support@ddugi.app\nğŸ“ 1588-0000\n\nìš´ì˜ì‹œê°„: í‰ì¼ 9:00-18:00');
        }
        
        function showAbout() {
            alert('ğŸ§ ëšœê¸° - ë¶€ì‚° ë§›ì§‘ ê°€ì´ë“œ\n\në²„ì „: 1.0.0\nê°œë°œì: ëšœê¸°íŒ€\n\në¶€ì‚°ì˜ ìˆ¨ì€ ë§›ì§‘ì„ ì°¾ì•„ë“œë¦¬ëŠ”\nAI ë§›ì§‘ ê°€ì´ë“œì…ë‹ˆë‹¤!');
        }
        
        function logout() {
            if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('userEmail');
                window.location.href = 'login.html';
            }
        }
        
        function deleteAccount() {
            const confirmation = prompt('ê³„ì •ì„ ì‚­ì œí•˜ë ¤ë©´ "ì‚­ì œ"ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
            
            if (confirmation === 'ì‚­ì œ') {
                if (confirm('ì •ë§ë¡œ ê³„ì •ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nëª¨ë“  ë°ì´í„°ê°€ ì˜êµ¬ì ìœ¼ë¡œ ì‚­ì œë©ë‹ˆë‹¤.')) {
                    localStorage.clear();
                    alert('ê³„ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
                    window.location.href = 'login.html';
                }
            }
        }
        
        // ì„¤ì •ê°’ ë¡œë“œ
        const notificationEnabled = localStorage.getItem('notificationEnabled');
        const locationEnabled = localStorage.getItem('locationEnabled');
        const defaultRegion = localStorage.getItem('defaultRegion');
        
        if (notificationEnabled === 'false') {
            document.querySelector('.toggle-switch').classList.remove('active');
        }
        
        if (locationEnabled === 'true') {
            document.querySelectorAll('.toggle-switch')[1].classList.add('active');
        }
        
        if (defaultRegion) {
            document.getElementById('defaultRegion').textContent = defaultRegion;
        }
    </script>
</body>
</html>